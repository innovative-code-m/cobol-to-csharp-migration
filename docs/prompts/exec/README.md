# 実行プロンプト（exec）運用 README

本ディレクトリは、**AI に実際に投入した「実行プロンプト」を保存する場所**である。

ここに置かれるファイルは、
単なるメモではなく、
**「この条件で、この AI に、この作業を依頼した」という実行記録（契約ログ）**として扱う。

---

## 1. このディレクトリの目的

- 実装・修正時に **AI に与えた具体条件を保存** する
- 後から **なぜこの実装になったのかを説明できる** 状態にする
- AI 開発の再現性・改善サイクルを確保する

> **コードだけでなく、プロンプトも成果物である** という考え方を前提とする。

---

## 2. 位置づけ（他ディレクトリとの関係）

```
docs/prompts/
  dev/     ← 不変のテンプレート（憲法）
  audit/   ← 監査用テンプレート
  editor/  ← 統合・編集用テンプレート
  refactor/← 大規模改修テンプレート
  exec/    ← ★ 実行ログ（このディレクトリ）
```

- `dev / audit / editor / refactor` 配下のプロンプトは **原則変更しない**
- `exec` 配下のファイルは **案件・作業ごとに増えていく**

---

## 3. ファイル命名規則（必須）

実行プロンプトは、以下の命名規則に従う。

```
YYYY-MM-DD_<BasePrompt>_<ShortDescription>.md
```

### 例

```
2026-02-03_01_Implement_OrderValidation.md
2026-02-05_03_Test_OrderValidation.md
2026-02-06_11_SpecAudit_OrderValidation.md
```

### 命名ルール

- 日付は **実行日**
- `<BasePrompt>` は使用したテンプレ名（01_Implement 等）
- `<ShortDescription>` は作業内容が一目で分かる短い英語名

---

## 4. exec ファイルの標準構成（必須）

各 exec ファイルは、以下の構成を **必ず含める**。

```md
# Exec: 01_Implement – OrderValidation

## 対象ファイル
- apps/backend/src/OrderService.cs
- apps/backend/tests/OrderServiceTests.cs

## 変更目的
注文金額が 0 以下の場合に false を返す仕様に変更する。

## 受入基準
- 金額 > 0 → true
- 金額 <= 0 → false
- 既存テストがすべて成功する

## 使用テンプレート
- docs/prompts/dev/01_Implement.prompt.md

## 実行用プロンプト本文
（AI に実際に投入した全文をそのまま貼り付ける）
```

---

## 5. 運用ルール（重要）

- exec ファイルは **実行前または直後に作成する**
- 後から内容を書き換えない（修正が必要な場合は新しい exec を作る）
- 1 exec = 1 AI 実行 = 1 作業単位
- exec ファイルは Git にコミットする

---

## 6. よくある誤り（禁止）

- テンプレ（dev / audit 等）を直接書き換える
- exec ファイル名に `.exe` や曖昧な連番を使う
- 変更目的・受入基準を書かない
- AI に投げた内容と保存内容が一致していない

---

## 7. ADR / Workflow との関係

- 本ディレクトリの運用は、以下の ADR に基づく。
  - `ADR-0001_Tooling.md`
  - `ADR-0002_AI-Roles.md`
  - `ADR-0003_Workflow.md`

exec は、**ADR で定義したワークフローを実際に実行した証跡**である。

---

## 8. 最後に

この `exec` ディレクトリが蓄積されることで、

- AI 開発の成功パターン
- 失敗した条件
- 改善すべき書き方

が **プロジェクト固有の知的資産**として残る。

迷ったら、
> 「この作業を、半年後の自分に説明できるか？」

を基準に記録すること。

---

以上

